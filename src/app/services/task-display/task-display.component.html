<div class="container" style="width:100vw">
    <div>
      <h3>Task</h3>
    </div>
    <br>
    <div class="d-flex justify-content-between">
      <div>
        <div class="col-4 text-right">
          <a href="taskadd" class="btn">Add</a>
        </div>
      </div>
      <div>
        <input type="text" id="search-input" placeholder="Search" [(ngModel)]="searchText" style="height: 35px;">
        <span class="input-group-btn">
          <button class="btn " type="button" (click)="searchData()">Search</button>
        </span>
      </div>
    </div>
    <br>
    <table class="table table-striped ">
        <thead class="thead-inverse">
            <tr>
                <th>Task Date</th>
                <th>User </th>
                <th>Project </th>
                <th>Status </th>
                <th>Description</th>
                <th>Expected Time</th>
                <th>Actual Time</th>
                <th>Due Date</th>
                <th>Complete Date</th>
                <th>Completed</th>
                <th>Change Status</th>
                <th>Edit</th>
                <th>Delete</th>

            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let task of filteredTasks | paginate: { itemsPerPage: 9, currentPage: p }">
                <td> {{ task.taskdate}} </td>
                <td> {{ task.tblUser.username }} </td>
                <td> {{ task.tblProject.projectname }} </td>
                <td> {{ task.tblTaskstatus.statusname }} </td>
                <td> {{ task.description }}</td>
                <td> {{ task.expectedtime }} </td>
                <td> {{ task.actualtime }} </td>
                <td> {{ task.duedate }} </td>
                <td> {{ task.completedate }} </td>
                <td><i class="bi" style="font-size: 25px;" 
                    [ngClass]="{'bi-check2-circle text-success': task.completed,'bi-circle text-danger': !task.completed}" (click)="toggleCompleted(task)"> </i></td>
                <td><i class="bi bi-nintendo-switch" style="font-size:25px; color: black;" routerLink="../changestatus" [queryParams]="{id: task.taskid}"></i></td>
                <td><button type="button" id="boot-icon" class="bi bi-pencil-square" style="font-size: 25px; border: 0px ; color: rgb(38, 101, 227); background: none;" routerLink="../taskedit" [queryParams]="{id: task.taskid}"></button></td>
                <td><button type="button" id="boot-icon" class="bi bi-trash" style="font-size: 25px; border: 0px solid; color:rgb(192 60 73); background: none;" (click)='removeClick(task.taskid)'></button></td>
            </tr>
        </tbody>
    </table>
    <br>
    <br>
    <br>
    <div class="d-flex justify-content-center">
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </div>
</div>